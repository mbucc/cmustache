digraph finite_state_machine {
	rankdir=LR;
	size="8,5"
	node [shape = doublecircle,width=1.25,fixedsize=true]; "rval != 0", start, "rval == 0";
	node [shape = circle,width=1.25,fixedsize=true];

	start		-> parsejson;

	parsejson	-> html		[label = "other" ];
	parsejson	-> "rval != 0"	[label = "21 + (kv pairs * 4) >= UINT_MAX" ];

	html		-> tagp		[ label = "'{'" ];
	html		-> html			[ label = "other" ];
	html		-> "rval == 0"		[ label = "'\0'" ];

	tagp		-> tag			[ label = "'{'" ];
	tagp		-> html			[label = "other" ];

	htmlp		-> html			[ label = "'}'" ];
	htmlp		-> tag			[label = "other" ];

	tag		-> htmlp		[ label = "'}'" ];
	tag		-> "rval != 0"		[ label = "tagsz >= 1023" ];
	tag		-> tag			[ label = "other" ];

}
